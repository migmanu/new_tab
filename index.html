<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>New Tab</title>
        <link rel="stylesheet" href="./CSS/new_tab.css">
    </head>
    <body background="./Icons/generic_background.jpg">
        <div class="container" id="container">
            <div id="edit_form">
                <form id="icon_edit_form" class="" onsubmit="editIcon(event, class)">
                    <h2>Edit Icon</h2>
                    <input type="text" name="Website Title" maxlength="14" placeholder="Website Title">
                    <input id="url_input" type="url" name="Website URL" placeholder="URL">
                    <input type="file" id="image_upload" name="Icon" accept="image/png, image/jpeg">
                    <label for="image_upload">Upload icon image (PNG, JPG)</label>
                    <input type="submit" name="Submit form">
                </form>
            </div>
            <div class="first-icon-row">
                <div class="icon-container">
                    <form class="btnForm" id="icon1" action="https://mail.google.com/mail/u/0/#inbox">
                        <button class="btn" id="btn-1" type="submit">
                            <img class="btn-image" src="gmail.ico" alt="gmail icon">
                            <span class="sr-only">Link to favorite site</span>
                        </button>
                        <p class="btn-legend">gmail</p>
                    </form>
                </div>
            </div>
            <div class="second-icon-row">
            </div>
            <script>
                // function to execute after icon editing form is submitted
                function editIcon(event, identifier) {
                    event.preventDefault();

                    console.log(id);

                    // edit pressed button
                    const pressedButton = document.getElementById(identifier);
                    const newURL = document.getElementById("url_input").value;
                    console.log("value is", newURL);

                    pressedButton.action = newURL;

                    // hide form after submit and return ID to default
                    const formDiv = document.getElementById("edit_form");
                    formDiv.style.display = 'none';

                    
                }
            </script>
        </div>
        <script src="./JS/icon.js"></script>
    </body>
</html>
